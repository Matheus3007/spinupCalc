<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpinupCalc // Battlebot Physics Sim</title>
  <script type="module" crossorigin src="./assets/index-Cq0e5z8m.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-B1plP8D8.css">
</head>

<body>
    <div class="app-container">
        <!-- LEFT COLUMN: INPUTS -->
        <aside class="sidebar">
            <div class="brand">Spinup // Calc</div>

            <!-- STL WRAPPER -->
            <div class="control-group">
                <div id="stl-container" class="stl-viewer-window"></div>
                <div class="input-row" style="margin-top: 5px; flex-direction: column; align-items: stretch;">
                    <div id="drop-zone" class="drop-zone">
                        <span class="drop-text">DROP STL HERE</span>
                        <span class="drop-subtext">OR CLICK TO UPLOAD</span>
                        <input type="file" id="stlFile" accept=".stl" style="display: none;">
                    </div>
                </div>

                <!-- Orientation Toggle -->
                <div class="input-row" style="justify-content: space-between; align-items: center; margin-top: 8px;">
                    <label>Bot Type</label>
                    <div class="toggle-container">
                        <span class="toggle-label">HOR</span>
                        <label class="switch">
                            <input type="checkbox" id="orientationToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="toggle-label">VER</span>
                    </div>
                </div>

                <!-- STL Calculated Properties -->
                <div class="group-title" style="margin-top: 10px;">STL Properties</div>
                <div class="input-row">
                    <label>Density (g/cm&sup3;)</label>
                    <input type="number" id="materialDensity" value="7.85" step="0.01">
                </div>
                <div class="input-row">
                    <label>Mass (g)</label>
                    <input type="text" id="stlMass" value="-" disabled style="color: var(--text-secondary);">
                </div>
                <div class="input-row">
                    <label>Inertia (kg&middot;m&sup2;)</label>
                    <input type="text" id="stlInertia" value="-" disabled style="color: var(--text-secondary);">
                </div>
                <button id="btn-apply-stl" class="secondary"
                    style="margin-top: 5px; font-size: 0.7rem; min-height: 36px;">
                    Apply to Physics Inputs
                </button>
            </div>

            <div class="input-row">
                <label>Scenario Name</label>
                <input type="text" id="simName" value="Setup Standard">
            </div>

            <div class="group-title">Motors & Electronics</div>
            <div class="control-group">
                <div class="input-row">
                    <label>Motor KV</label>
                    <input type="number" id="kv" value="880">
                </div>
                <div class="input-row">
                    <label>Battery (V)</label>
                    <input type="number" id="voltage" value="14.8" step="0.1">
                </div>
                <div class="input-row">
                    <label>Resistance (&Omega;)</label>
                    <input type="number" id="resistance" value="0.045" step="0.001">
                </div>
                <div class="input-row">
                    <label>ESC Limit (A)</label>
                    <input type="number" id="escLimit" value="60">
                </div>
            </div>

            <div class="group-title">Transmission</div>
            <div class="control-group">
                <div class="input-row">
                    <label>Ratio (X:1)</label>
                    <input type="number" id="reduction" value="1.0" step="0.1">
                </div>
                <div class="input-row">
                    <label>Efficiency (%)</label>
                    <input type="number" id="efficiency" value="90">
                </div>
            </div>

            <div class="group-title">Weapon Geometry</div>
            <div class="control-group">
                <div class="input-row">
                    <label>Long Radius (mm)</label>
                    <input type="number" id="rLong" value="170">
                </div>
                <div class="input-row">
                    <label>Short Radius (mm)</label>
                    <input type="number" id="rShort" value="80">
                </div>
                <div class="input-row">
                    <label>Height/Thick (mm)</label>
                    <input type="number" id="height" value="15">
                </div>
                <div class="input-row">
                    <label>Drag Coeff (Cd)</label>
                    <input type="number" id="dragCoeff" value="1.2">
                </div>
            </div>

            <div class="group-title">Physics Advanced</div>
            <div class="control-group">
                <div class="input-row">
                    <label>Inertia (kg&middot;m&sup2;) [0=Auto]</label>
                    <input type="number" id="inertia" value="0" step="0.0001">
                </div>
                <div class="input-row">
                    <label>Mass (g) [For Estimation]</label>
                    <input type="number" id="mass" value="450">
                </div>
                <div class="input-row">
                    <label>Viscous Friction (B)</label>
                    <input type="number" id="viscous" value="0.0000" step="0.0001" title="Coefficient for B*w friction">
                </div>
            </div>

            <button id="btn-add">Run Simulation</button>
            <button id="btn-clear" class="secondary">Clear Charts</button>
        </aside>

        <!-- RIGHT COLUMN: RESULTS -->
        <main class="main-content">
            <!-- KPIs -->
            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-value" id="resRpmMax">0</div>
                    <div class="kpi-label">Max RPM</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="resTime">0s</div>
                    <div class="kpi-label">Spin-up Time</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="resTipSpeed">0</div>
                    <div class="kpi-label">Tip Speed (m/s)</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-value" id="resCurrent">0</div>
                    <div class="kpi-label">Hover Current (A)</div>
                </div>
            </div>

            <!-- Charts -->
            <div class="charts-container">
                <div class="chart-wrapper">
                    <canvas id="spinupChart"></canvas>
                </div>
                <div class="chart-wrapper">
                    <canvas id="currentChart"></canvas>
                </div>
            </div>
        </main>
    </div>

    <!-- MAIN SCRIPT -->
</body>

</html>